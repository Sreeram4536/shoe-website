<%- include("../partials/user/header") %>

<style>
    .content-main {
        display: flex;
        justify-content: center;
        align-items: center;
        min-height: calc(100vh - 160px); /* Full viewport height minus header and footer spacing */
        margin-top: 50px;
        margin-bottom: 50px;
    }

    .panel-login {
        max-width: 500px; /* Ensure panel width is controlled */
        width: 100%;
    }

    .error-message {
        color: red; /* Improve visibility for error messages */
        margin-top: 5px; /* Add spacing for error message */
    }
</style>

<section class="content-main">
    <div class="panel panel-default panel-login">
        <div class="panel-heading text-center">
            <h4 class="panel-title">Email</h4>
        </div>
        <div class="panel-body">
            <form method="post" action="/user/change-password" onsubmit="return validateLoginForm()">
                <div class="form-group">
                    <label for="email">Enter Your Current Email</label>
                    <input class="form-control" name="email" placeholder="Email" type="text" id="email">
                    <div class="error-message" id="email-error"></div>
                </div>
                <div class="form-group">
                    <button type="submit" class="btn btn-primary btn-block">Verify</button>
                </div>
            </form>
        </div>
    </div>
</section>

<script>
    function validateLoginForm() {
        const emailInput = document.getElementById('email');
        const emailError = document.getElementById('email-error');
        const emailValue = emailInput.value.trim();
        const emailPattern = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/;

        if (emailValue === '') {
            emailError.textContent = 'Please enter your email.';
            emailInput.classList.add('is-invalid');
            return false;
        } else if (!emailValue.match(emailPattern)) {
            emailError.textContent = 'Please enter a valid email address';
            emailInput.classList.add('is-invalid');
            return false;
        } else {
            emailError.textContent = '';
            emailInput.classList.remove('is-invalid');
            return true;
        }
    }
</script>

<%- include("../partials/user/footer") %>
